Корневая оптимизация умеет делать всё то, что умеет делать дерево отрезков и даже больше. Но время обработки запросов обычно O(sqrtN), что хуже чем O(logN).